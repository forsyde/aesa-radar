\documentclass{standalone}

\usepackage[tikz]{forsyde}

\begin{document}
\begin{tikzpicture}[constructors=shallow,scale=1.2]
  \standard[process,moc=sy,f={$\noexpand\mathtt{farm}^T(f_{DBF})$},type=comb](dbf){dbf};
  \standard[process,moc=sy,f={$\noexpand\mathtt{farm}(f_{PC})$},type=comb,right of=dbf](pc){pc};
  \interface[right of=pc](ifsy){sy}{sdf};
  \standard[process,moc=sdf,f={$^T$},type=actor,right of=ifsy,yshift=1cm,xshift=3.3cm](p1){};
  \resetportinfo{p1}\wpinfo{$N_{FFT}$}\epinfo{1}
  \standard[process,moc=sdf,f={$^T$},type=actor,right of=ifsy,yshift=-1cm,xshift=3.3cm](p2){};
  \resetportinfo{p2}\wpinfo{$N_{FFT}$}\epinfo{1}
  \standard[process,moc=sdf,f={$0_1...0_{N_{FFT}}$},type=delay,left of=p2](ovr){};
  \interface[right of=p1](ifsdf1){sdf}{sy};
  \interface[right of=p2](ifsdf2){sdf}{sy};
  \standard[process,moc=sy,f={$\noexpand\mathtt{M.farm}(f_{DFB})$},type=comb,right of=ifsdf1](dfb1){dfb};
  \standard[process,moc=sy,f={$\noexpand\mathtt{M.farm}(f_{DFB})$},type=comb,right of=ifsdf2](dfb2){dfb};
  \standard[process,moc=sy,f={$\noexpand\mathtt{farm}(f_{cfar})$},type=comb,right of=dfb1](cfar1){cfar};
  \standard[process,moc=sy,f={$\noexpand\mathtt{farm}(f_{cfar})$},type=comb,right of=dfb2](cfar2){cfar};
  \standard[process,moc=sy,ni=2,f={$+$},type=comb,xshift=2.5cm](add)<$(cfar1)!.5!(cfar2)$>{addSC};
  \standard[process,moc=blackbox,right of=add](int){firNet};
  \draw[s=sy]
  (dbf) edge[<-] ++(-1.5,0)
  (pc) edge[<-] (dbf) edge[->] (ifsy)
  (dfb1) edge[<-] (ifsdf1) edge[->] (cfar1)
  (dfb2) edge[<-] (ifsdf2) edge[->] (cfar2)
  (add.w1) edge[<-,-|-] (cfar1.e1) (add.w2) edge[<-,-|-] (cfar2.e1) (add.e1) edge[->] (int)
  (int) edge[->] ++(1.5,0)
  ;
  \draw[s=sdf]
  (ifsy) edge[-|-=.2,->] (p1)  edge[-|-=.45,->] (ovr) 
  (ovr) edge[->] (p2)
  (p1) edge[->] (ifsdf1) (p2) edge[->] (ifsdf2)
  ;
  \gettikzx{(dbf.east)}{\x}\gettikzx{(dbf.west)}{\y}
  \draw[dashed] (\x,1.5) rectangle (\y,-1.5) node[anchor=north west]{dbf};
  \gettikzx{(pc.east)}{\x}\gettikzx{(pc.west)}{\y}
  \draw[dashed] (\x,1.5) rectangle (\y,-1.5) node[anchor=north west]{pc};
  \gettikzx{(p2.east)}{\x}\gettikzx{(ifsy.west)}{\y}
  \draw[dashed] (\x,1.5) rectangle (\y,-1.5) node[anchor=north west]{ct};
  \gettikzx{(dfb1.east)}{\x}\gettikzx{(ifsdf1.west)}{\y}
  \draw[dashed] (\x,1.5) rectangle (\y,.2) node[anchor=north west]{dfb};
  \gettikzx{(dfb2.east)}{\x}\gettikzx{(ifsdf2.west)}{\y}
  \draw[dashed] (\x,-.2) rectangle (\y,-1.5) node[anchor=north west]{dbf};
  \gettikzx{(cfar1.east)}{\x}\gettikzx{(cfar1.west)}{\y}
  \draw[dashed] (\x,1.5) rectangle (\y,.2) node[anchor=north west]{cfar};
  \gettikzx{(cfar2.east)}{\x}\gettikzx{(cfar2.west)}{\y}
  \draw[dashed] (\x,-.2) rectangle (\y,-1.5) node[anchor=north west]{cfar};
  \gettikzx{(int.east)}{\x}\gettikzx{(add.west)}{\y}
  \draw[dashed] (\x,1.5) rectangle (\y,-1.5) node[anchor=north west]{int};
\end{tikzpicture}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
